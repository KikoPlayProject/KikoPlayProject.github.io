---
layout: post
title: "KikoPlay 0.6.2"
date:   2020-05-02 00:00:00
categories: newVersion
type: newVer
---

最近一段时间忙于实验室的工作以及投简历，好久没写日志了，但中途还是抽时间简单更新了下KikoPlay。KikoPlay 0.6.2于2020.5.1发布，这是KikoPlay的第15个版本，中间其实还有个0.6.1，不过懒得写了。这两个版本主要是修复了弹幕获取模块，加上了B站BV链接的支持。其实下载弹幕的功能还是OK的，主要是一些视频网站的搜索页面结构发生变化，需要KikoPlay调整Providers的搜索代码来适应它们。详细的更新内容可以查看压缩包里的版本历史文件，主要的一个更新是增加了进度条预览功能。
 - #### 进度条实时预览
   这个功能之前考虑过，但感觉实现起来比较耗费资源（例如后台用ffmpeg实时截图？），而且KikoPlay本来也是个本地播放器，不存在在线视频需要缓冲的问题，想看哪里直接拖进度过去就好了。后来有人提到了这个功能，又感觉似乎加上这个显得更高级一些？考虑了一下，自然通过ffmpeg截图是不现实的，速度慢同时也不想让压缩包更大；libmpv除了截图命令也没什么其他接口，最终决定在后台再创建一个播放器实例，将画面渲染到帧缓存中，鼠标指向进度条的某个位置时通知后台播放器跳转到对应位置，之后从帧缓存中取出图像供前台显示。详细实现可见```KikoPlay/Play/Video/mpvpreview.cpp```。

   有了预览功能，配合弹幕事件检测体验更佳：
   ![](/static/posts/20-05-02-1.jpg)

新版本可在百度网盘上下载
